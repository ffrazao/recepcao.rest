!function(){"use strict";function r(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function n(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function e(r,e,t){return e&&n(r.prototype,e),t&&n(r,t),r}(self.webpackChunkrecepcao_web=self.webpackChunkrecepcao_web||[]).push([[148],{5148:function(n,t,o){o.r(t),o.d(t,{AutorizarTrocarSenhaModule:function(){return U}});var i,a=o(8583),u=o(3679),c=o(6627),s=o(1095),f=o(2613),l=o(7441),m=o(7539),v=o(8295),p=o(9983),d=o(7716),h=o(3472),g=o(1739),Z=((i=function(){function n(e,t){r(this,n),this._router=e,this._mensagem=t}return e(n,[{key:"resolve",value:function(r,n){var e=n.url.split("/"),t=null,o=null;return 4===e.length?(t=e[e.length-2],o=e[e.length-1]):t=e[e.length-1],t||(this._mensagem.erro("E-mail n\xe3o informado"),this._router.navigate(["recuperar-senha"])),{email:t,token:o}}}]),n}()).\u0275fac=function(r){return new(r||i)(d.LFG(h.F0),d.LFG(g.w))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i),_=function n(){r(this,n)},b=o(2340),k=o(1841),T=function(){var n=function(){function n(e){r(this,n),this._http=e}return e(n,[{key:"autorizarTrocarSenha",value:function(r){return this._http.post(b.N.AUTHORIZATION_SERVER+"/usuario/autorizar-trocar-senha",r)}}]),n}();return n.\u0275fac=function(r){return new(r||n)(d.LFG(k.eN))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),A=function(){var n=function(){function n(e){r(this,n),this._formBuilder=e}return e(n,[{key:"criarFormulario",value:function(r){return r||(r=new _),this._formBuilder.group({email:[r.email,[u.kI.required,u.kI.email]],token:[r.token,[u.kI.required]]})}}]),n}();return n.\u0275fac=function(r){return new(r||n)(d.LFG(u.qu))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),q=o(1796),w=o(1253);function y(r,n){1&r&&(d.TgZ(0,"div"),d._uU(1," Campo obrigat\xf3rio! "),d.qZA())}function z(r,n){if(1&r&&(d.TgZ(0,"div",16),d.YNc(1,y,2,0,"div",17),d.qZA()),2&r){var e=d.oxw();d.xp6(1),d.Q6J("ngIf",e.frm.controls.token.errors.required)}}var I=[{path:"",component:function(){var n=function(){function n(e,t,o,i,a){r(this,n),this._service=e,this._formService=t,this._route=o,this._router=i,this._mensagem=a,this.isEnviado=!1}return e(n,[{key:"ngOnInit",value:function(){var r=this;this._route.data.subscribe(function(n){var e=new _;e.email=n[0].email,e.token=n[0].token,r.frm=r._formService.criarFormulario(e)})}},{key:"ngAfterViewInit",value:function(){}},{key:"enviar",value:function(r){var n=this;if(r.preventDefault(),this.isEnviado=!0,this.frm.invalid){var e="Dados inv\xe1lidos!";throw console.error(this.frm),this._mensagem.erro(e),new Error(e)}var t=this.frm.value;this._service.autorizarTrocarSenha(t).subscribe(function(r){n._mensagem.sucesso("Token de recupera\xe7\xe3o de senha validado!"),n._router.navigate(["trocar-senha",t.email,t.token])},function(r){var e="Erro no processo de recupera\xe7\xe3o de senha";console.error(e,r),n._mensagem.erro(e)})}}]),n}();return n.\u0275fac=function(r){return new(r||n)(d.Y36(T),d.Y36(A),d.Y36(h.gz),d.Y36(h.F0),d.Y36(g.w))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-autorizar-trocar-senha"]],decls:27,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-sm-9","col-md-7","col-lg-5","mx-auto"],[1,"card","card-signin","my-5"],[1,"card-body"],["src","assets/img/logo.png",2,"width","60px","height","60px"],[1,"card-title","text-center"],[1,"form-signin",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"form-control"],["appearance","outline",2,"width","100%"],["matInput","","placeholder","Digite o token enviado ao seu e-mail","formControlName","token","appFrzPoeFoco",""],["class","text-danger",4,"ngIf"],[1,"my-4"],["type","submit",1,"btn","btn-primary","btn-block"],["type","button","appFrzVoltarBotao","",1,"btn","btn-secondary","btn-block"],[1,"text-danger"],[4,"ngIf"]],template:function(r,n){1&r&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d.TgZ(4,"div",4),d.TgZ(5,"span"),d._UZ(6,"img",5),d.qZA(),d.TgZ(7,"h5",6),d._uU(8,"Autorizar Trocar Senha"),d.qZA(),d.TgZ(9,"form",7),d.NdJ("ngSubmit",function(r){return n.enviar(r)}),d.TgZ(10,"div",8),d.TgZ(11,"mat-label"),d._uU(12,"E-mail"),d.qZA(),d.TgZ(13,"div",9),d.TgZ(14,"b"),d._uU(15),d.qZA(),d.qZA(),d.qZA(),d.TgZ(16,"div",8),d.TgZ(17,"mat-form-field",10),d.TgZ(18,"mat-label"),d._uU(19,"Token"),d.qZA(),d._UZ(20,"input",11),d.qZA(),d.YNc(21,z,2,1,"div",12),d.qZA(),d._UZ(22,"hr",13),d.TgZ(23,"button",14),d._uU(24,"Enviar"),d.qZA(),d.TgZ(25,"button",15),d._uU(26,"Voltar"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&r&&(d.xp6(9),d.Q6J("formGroup",n.frm),d.xp6(6),d.Oqu(n.frm.value.email),d.xp6(6),d.Q6J("ngIf",n.isEnviado&&n.frm.controls.token.invalid))},directives:[u._Y,u.JL,u.sg,v.hX,v.KE,p.Nt,u.Fj,u.JJ,u.u,q.o,a.O5,w.C],styles:[""]}),n}(),resolve:[Z]}],F=function(){var n=function n(){r(this,n)};return n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[h.Bz.forChild(I)],h.Bz]}),n}(),E=o(5712),U=function(){var n=function n(){r(this,n)};return n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[T,A,Z],imports:[[a.ez,F,u.UX,c.Ps,p.c,v.lN,m.p9,l.LD,f.Fk,s.ot,E.Y]]}),n}()}}])}();