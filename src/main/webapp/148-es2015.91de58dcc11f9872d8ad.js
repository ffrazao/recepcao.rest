"use strict";(self.webpackChunkrecepcao_web=self.webpackChunkrecepcao_web||[]).push([[148],{5148:function(r,e,t){t.r(e),t.d(e,{AutorizarTrocarSenhaModule:function(){return y}});var o=t(8583),n=t(3679),i=t(6627),a=t(1095),s=t(2613),c=t(7441),u=t(7539),l=t(8295),m=t(9983),d=t(7716),p=t(3472),f=t(1739);let h=(()=>{class r{constructor(r,e){this._router=r,this._mensagem=e}resolve(r,e){const t=e.url.split("/");let o=null,n=null;return 4===t.length?(o=t[t.length-2],n=t[t.length-1]):o=t[t.length-1],o||(this._mensagem.erro("E-mail n\xe3o informado"),this._router.navigate(["recuperar-senha"])),{email:o,token:n}}}return r.\u0275fac=function(e){return new(e||r)(d.LFG(p.F0),d.LFG(f.w))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class g{}var v=t(2340),Z=t(1841);let _=(()=>{class r{constructor(r){this._http=r}autorizarTrocarSenha(r){return this._http.post(v.N.AUTHORIZATION_SERVER+"/usuario/autorizar-trocar-senha",r)}}return r.\u0275fac=function(e){return new(e||r)(d.LFG(Z.eN))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),b=(()=>{class r{constructor(r){this._formBuilder=r}criarFormulario(r){return r||(r=new g),this._formBuilder.group({email:[r.email,[n.kI.required,n.kI.email]],token:[r.token,[n.kI.required]]})}}return r.\u0275fac=function(e){return new(e||r)(d.LFG(n.qu))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var T=t(1796),A=t(1253);function k(r,e){1&r&&(d.TgZ(0,"div"),d._uU(1," Campo obrigat\xf3rio! "),d.qZA())}function q(r,e){if(1&r&&(d.TgZ(0,"div",16),d.YNc(1,k,2,0,"div",17),d.qZA()),2&r){const r=d.oxw();d.xp6(1),d.Q6J("ngIf",r.frm.controls.token.errors.required)}}const w=[{path:"",component:(()=>{class r{constructor(r,e,t,o,n){this._service=r,this._formService=e,this._route=t,this._router=o,this._mensagem=n,this.isEnviado=!1}ngOnInit(){this._route.data.subscribe(r=>{const e=new g;e.email=r[0].email,e.token=r[0].token,this.frm=this._formService.criarFormulario(e)})}ngAfterViewInit(){}enviar(r){if(r.preventDefault(),this.isEnviado=!0,this.frm.invalid){const r="Dados inv\xe1lidos!";throw console.error(this.frm),this._mensagem.erro(r),new Error(r)}const e=this.frm.value;this._service.autorizarTrocarSenha(e).subscribe(r=>{this._mensagem.sucesso("Token de recupera\xe7\xe3o de senha validado!"),this._router.navigate(["trocar-senha",e.email,e.token])},r=>{const e="Erro no processo de recupera\xe7\xe3o de senha";console.error(e,r),this._mensagem.erro(e)})}}return r.\u0275fac=function(e){return new(e||r)(d.Y36(_),d.Y36(b),d.Y36(p.gz),d.Y36(p.F0),d.Y36(f.w))},r.\u0275cmp=d.Xpm({type:r,selectors:[["app-autorizar-trocar-senha"]],decls:27,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-sm-9","col-md-7","col-lg-5","mx-auto"],[1,"card","card-signin","my-5"],[1,"card-body"],["src","assets/img/logo.png",2,"width","60px","height","60px"],[1,"card-title","text-center"],[1,"form-signin",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"form-control"],["appearance","outline",2,"width","100%"],["matInput","","placeholder","Digite o token enviado ao seu e-mail","formControlName","token","appFrzPoeFoco",""],["class","text-danger",4,"ngIf"],[1,"my-4"],["type","submit",1,"btn","btn-primary","btn-block"],["type","button","appFrzVoltarBotao","",1,"btn","btn-secondary","btn-block"],[1,"text-danger"],[4,"ngIf"]],template:function(r,e){1&r&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d.TgZ(4,"div",4),d.TgZ(5,"span"),d._UZ(6,"img",5),d.qZA(),d.TgZ(7,"h5",6),d._uU(8,"Autorizar Trocar Senha"),d.qZA(),d.TgZ(9,"form",7),d.NdJ("ngSubmit",function(r){return e.enviar(r)}),d.TgZ(10,"div",8),d.TgZ(11,"mat-label"),d._uU(12,"E-mail"),d.qZA(),d.TgZ(13,"div",9),d.TgZ(14,"b"),d._uU(15),d.qZA(),d.qZA(),d.qZA(),d.TgZ(16,"div",8),d.TgZ(17,"mat-form-field",10),d.TgZ(18,"mat-label"),d._uU(19,"Token"),d.qZA(),d._UZ(20,"input",11),d.qZA(),d.YNc(21,q,2,1,"div",12),d.qZA(),d._UZ(22,"hr",13),d.TgZ(23,"button",14),d._uU(24,"Enviar"),d.qZA(),d.TgZ(25,"button",15),d._uU(26,"Voltar"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&r&&(d.xp6(9),d.Q6J("formGroup",e.frm),d.xp6(6),d.Oqu(e.frm.value.email),d.xp6(6),d.Q6J("ngIf",e.isEnviado&&e.frm.controls.token.invalid))},directives:[n._Y,n.JL,n.sg,l.hX,l.KE,m.Nt,n.Fj,n.JJ,n.u,T.o,o.O5,A.C],styles:[""]}),r})(),resolve:[h]}];let z=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({imports:[[p.Bz.forChild(w)],p.Bz]}),r})();var I=t(5712);let y=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({providers:[_,b,h],imports:[[o.ez,z,n.UX,i.Ps,m.c,l.lN,u.p9,c.LD,s.Fk,a.ot,I.Y]]}),r})()}}]);