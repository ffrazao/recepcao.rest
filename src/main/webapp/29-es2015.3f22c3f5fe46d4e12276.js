"use strict";(self.webpackChunkrecepcao_web=self.webpackChunkrecepcao_web||[]).push([[29],{5029:function(o,t,e){e.r(t),e.d(t,{FormModule:function(){return G}});var r=e(8583),n=e(3679),i=e(3472),a=e(4957),c=e(8018),u=e(9883),s=e(7716),l=e(8203);let d=(()=>{class o{constructor(o){this._servico=o}resolve(o,t){return this._servico.filtro=this._servico.filtro?this._servico.filtro:new u.a,this._servico.filtrar()}}return o.\u0275fac=function(t){return new(t||o)(s.LFG(l.v))},o.\u0275prov=s.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var m=e(2865),f=e(8682),p=e(3458),Z=e(5427),g=e(9677),v=e(8762),_=e(5109),h=e(957),T=e(1739),A=e(5676);function q(o,t){if(1&o){const o=s.EpF();s.ynx(0),s.TgZ(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.qZA(),s.TgZ(9,"td"),s._uU(10),s.qZA(),s.TgZ(11,"td"),s._uU(12),s.qZA(),s.TgZ(13,"td"),s._uU(14),s.qZA(),s.TgZ(15,"td"),s._uU(16),s.qZA(),s.TgZ(17,"td"),s.TgZ(18,"button",22),s.NdJ("click",function(){return s.CHM(o),s.oxw().$implicit.editar=!0}),s._uU(19,"Editar"),s.qZA(),s.TgZ(20,"button",22),s.NdJ("click",function(){s.CHM(o);const t=s.oxw().index;return s.oxw().excluirPessoaEndereco(t)}),s._uU(21,"Excluir"),s.qZA(),s.qZA(),s.BQk()}if(2&o){const o=s.oxw(),t=o.index,e=o.$implicit;s.xp6(2),s.hij("",t+1,"."),s.xp6(2),s.Oqu(e.value.endereco.cep),s.xp6(2),s.Oqu(e.value.endereco.logradouro),s.xp6(2),s.Oqu(e.value.endereco.complemento),s.xp6(2),s.Oqu(e.value.endereco.numero),s.xp6(2),s.Oqu(e.value.endereco.bairro),s.xp6(2),s.Oqu(e.value.endereco.cidade),s.xp6(2),s.Oqu(e.value.endereco.uf)}}function U(o,t){if(1&o){const o=s.EpF();s.ynx(0,36),s.ynx(1,37),s.TgZ(2,"td"),s._uU(3),s.qZA(),s.TgZ(4,"td"),s._UZ(5,"input",38),s.qZA(),s.TgZ(6,"td"),s._UZ(7,"input",39),s.qZA(),s.TgZ(8,"td"),s._UZ(9,"input",40),s.qZA(),s.TgZ(10,"td"),s._UZ(11,"input",41),s.qZA(),s.TgZ(12,"td"),s._UZ(13,"input",42),s.qZA(),s.TgZ(14,"td"),s._UZ(15,"input",43),s.qZA(),s.TgZ(16,"td"),s._UZ(17,"input",44),s.qZA(),s.TgZ(18,"td"),s.TgZ(19,"button",22),s.NdJ("click",function(){return s.CHM(o),s.oxw().$implicit.editar=!1}),s._uU(20,"Salvar"),s.qZA(),s.qZA(),s.BQk(),s.BQk()}if(2&o){const o=s.oxw().index;s.Q6J("formGroupName",o),s.xp6(3),s.hij("",o,".")}}function x(o,t){if(1&o&&(s.TgZ(0,"tr"),s.YNc(1,q,22,8,"ng-container",34),s.YNc(2,U,21,2,"ng-container",35),s.qZA()),2&o){const o=t.$implicit;s.xp6(1),s.Q6J("ngIf",!o.editar),s.xp6(1),s.Q6J("ngIf",o.editar)}}function b(o,t){1&o&&(s.ynx(0,45),s.TgZ(1,"div",3),s.TgZ(2,"label",46),s._uU(3,"Matricula"),s.qZA(),s._UZ(4,"input",47),s.qZA(),s.TgZ(5,"div",3),s.TgZ(6,"label",48),s._uU(7,"Ramal"),s.qZA(),s._UZ(8,"input",49),s.qZA(),s.BQk())}function C(o,t){if(1&o&&s._UZ(0,"img",54),2&o){const o=s.oxw(2);s.MGl("src","data:image/png;base64,",o.formulario.value.visitante.foto,"",s.LSH)}}function N(o,t){if(1&o){const o=s.EpF();s.ynx(0,50),s.TgZ(1,"div",3),s.TgZ(2,"label",48),s._uU(3,"Foto"),s.qZA(),s.TgZ(4,"div",51),s.YNc(5,C,1,1,"img",52),s.TgZ(6,"button",53),s.NdJ("click",function(){return s.CHM(o),s.oxw().carregarFoto()}),s._uU(7,"Carregar"),s.qZA(),s.qZA(),s.qZA(),s.BQk()}if(2&o){const o=s.oxw();s.xp6(5),s.Q6J("ngIf",null==o.formulario.value.visitante?null:o.formulario.value.visitante.foto)}}const y=function(){return["../novo"]},k=function(){return["./filtro"]},F=function(){return{standalone:!0}},J=function(){return["../"]};let w=(()=>{class o{constructor(o,t,e,r,n,i){this._rest=o,this._form=t,this._activatedRoute=e,this._route=r,this._mensagem=n,this._anexar=i}ngOnInit(){this.formulario=this._form.criar(this._activatedRoute.snapshot.data[0]),this.localList=this._activatedRoute.snapshot.data[1],this.usuarioList=this._activatedRoute.snapshot.data[2],this.entidadeRepresentanteList=this._activatedRoute.snapshot.data[3]}idListComparar(o,t){return(0,f.aH)(o,t)}filtraLocal(o,t){return o.portaria===t[0]}incluirPessoaEndereco(){let o=this._form.criarPessoaEndereco(new p.q);o.editar=!0,this.formulario.controls.pessoaEnderecoList.push(o)}excluirPessoaEndereco(o){this.formulario.controls.pessoaEnderecoList.removeAt(o)}get eFuncionario(){var o;return null===(o=this.formulario)||void 0===o?void 0:o.contains("funcionario")}set eFuncionario(o){var t,e;o?null===(t=this.formulario)||void 0===t||t.addControl("funcionario",this._form.criarFuncionario(new Z.F)):null===(e=this.formulario)||void 0===e||e.removeControl("funcionario")}get eVisitante(){var o;return null===(o=this.formulario)||void 0===o?void 0:o.contains("visitante")}set eVisitante(o){var t,e;o?null===(t=this.formulario)||void 0===t||t.addControl("visitante",this._form.criarVisitante(new g.D)):null===(e=this.formulario)||void 0===e||e.removeControl("visitante")}salvar(){let o=this.formulario.value;o.id?this._rest.update(o.id,o).subscribe(t=>{this._route.navigate([`pessoa/${o.id}`]),this._mensagem.sucesso("Dados Salvos","Sucesso")}):this._rest.create(o).subscribe(o=>{this._route.navigate([`pessoa/${o}`]),this._mensagem.sucesso("Dados Salvos","Sucesso")})}carregarFoto(){this._anexar.carregar([v.i.IMAGEM],!1).subscribe(o=>{this.formulario.get("visitante.foto").setValue((0,f.Fy)(o.IMAGEM[0]))})}}return o.\u0275fac=function(t){return new(t||o)(s.Y36(_.v),s.Y36(h.o),s.Y36(i.gz),s.Y36(i.F0),s.Y36(T.w),s.Y36(A.T))},o.\u0275cmp=s.Xpm({type:o,selectors:[["app-form"]],decls:84,vars:16,consts:[[1,"btn","btn-primary",3,"routerLink"],[1,"container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","entradaLocal"],[1,"form-check","form-check-inline"],["type","radio","name","pessoaTipo","id","pessoaTipoPF","value","PF","formControlName","pessoaTipo",1,"form-check-input"],["for","pessoaTipoPF",1,"form-check-label"],["type","radio","name","pessoaTipo","id","pessoaTipoPJ","value","PJ","formControlName","pessoaTipo",1,"form-check-input"],["for","pessoaTipoPJ",1,"form-check-label"],["for","nome"],["type","text","id","nome","formControlName","nome",1,"form-control"],["for","cpfCnpj"],["type","text","id","cpfCnpj","formControlName","cpfCnpj",1,"form-control"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control"],["for","contato1"],["type","text","id","contato1","formControlName","contato1",1,"form-control"],["for","contato2"],["type","text","id","contato2","formControlName","contato2",1,"form-control"],["for","contato3"],["type","text","id","contato3","formControlName","contato3",1,"form-control"],[1,"btn","btn-secondary",3,"click"],["formArrayName","pessoaEnderecoList",1,"table"],[1,"table-dark"],[4,"ngFor","ngForOf"],[1,"form-check"],["for","eFuncionario",1,"form-check-label"],["type","checkbox","id","eFuncionario",1,"form-check-input",3,"ngModel","ngModelOptions","ngModelChange"],["formGroupName","funcionario",4,"ngIf"],["for","eVisitante",1,"form-check-label"],["type","checkbox","id","eVisitante",1,"form-check-input",3,"ngModel","ngModelOptions","ngModelChange"],["formGroupName","visitante",4,"ngIf"],["type","submit",1,"btn","btn-primary"],[4,"ngIf"],[3,"formGroupName",4,"ngIf"],[3,"formGroupName"],["formGroupName","endereco"],["type","text","placeholder","CEP","formControlName","cep",1,"form-control"],["type","text","placeholder","Logradouro","formControlName","logradouro",1,"form-control"],["type","text","placeholder","Complemento","formControlName","complemento",1,"form-control"],["type","text","placeholder","N\xfamero","formControlName","numero",1,"form-control"],["type","text","placeholder","Bairro","formControlName","bairro",1,"form-control"],["type","text","placeholder","Cidade","formControlName","cidade",1,"form-control"],["type","text","placeholder","UF","formControlName","uf",1,"form-control"],["formGroupName","funcionario"],["for","matricula"],["type","text","id","matricula","formControlName","matricula",1,"form-control"],["for","ramal"],["type","text","id","ramal","formControlName","ramal",1,"form-control"],["formGroupName","visitante"],[1,"form-control"],["class","img-thumbnail",3,"src",4,"ngIf"],[1,"btn-button","success",3,"click"],[1,"img-thumbnail",3,"src"]],template:function(o,t){1&o&&(s.TgZ(0,"p"),s._uU(1,"Formul\xe1rio Pessoa"),s.qZA(),s.TgZ(2,"button",0),s._uU(3,"Incluir"),s.qZA(),s.TgZ(4,"button",0),s._uU(5,"Filtrar"),s.qZA(),s.TgZ(6,"div",1),s.TgZ(7,"form",2),s.NdJ("ngSubmit",function(){return t.salvar()}),s.TgZ(8,"div",3),s.TgZ(9,"label",4),s._uU(10,"Tipo de Pessoa"),s.qZA(),s.TgZ(11,"div",3),s.TgZ(12,"div",5),s._UZ(13,"input",6),s.TgZ(14,"label",7),s._uU(15,"Pessoa F\xedsica"),s.qZA(),s.qZA(),s.TgZ(16,"div",5),s._UZ(17,"input",8),s.TgZ(18,"label",9),s._uU(19,"Pessoa Jur\xeddica"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(20,"div",3),s.TgZ(21,"label",10),s._uU(22,"Nome"),s.qZA(),s._UZ(23,"input",11),s.qZA(),s.TgZ(24,"div",3),s.TgZ(25,"label",12),s._uU(26,"CPF/CNPJ"),s.qZA(),s._UZ(27,"input",13),s.qZA(),s.TgZ(28,"div",3),s.TgZ(29,"label",14),s._uU(30,"E-mail"),s.qZA(),s._UZ(31,"input",15),s.qZA(),s.TgZ(32,"div",3),s.TgZ(33,"label",16),s._uU(34,"N\xfamero de Contato (1)"),s.qZA(),s._UZ(35,"input",17),s.qZA(),s.TgZ(36,"div",3),s.TgZ(37,"label",18),s._uU(38,"N\xfamero de Contato (2)"),s.qZA(),s._UZ(39,"input",19),s.qZA(),s.TgZ(40,"div",3),s.TgZ(41,"label",20),s._uU(42,"N\xfamero de Contato (3)"),s.qZA(),s._UZ(43,"input",21),s.qZA(),s.TgZ(44,"div",3),s.TgZ(45,"button",22),s.NdJ("click",function(){return t.incluirPessoaEndereco()}),s._uU(46,"Incluir"),s.qZA(),s.TgZ(47,"table",23),s.TgZ(48,"thead",24),s.TgZ(49,"tr"),s.TgZ(50,"th"),s._uU(51,"#"),s.qZA(),s.TgZ(52,"th"),s._uU(53,"CEP"),s.qZA(),s.TgZ(54,"th"),s._uU(55,"Logradouro"),s.qZA(),s.TgZ(56,"th"),s._uU(57,"Complemento"),s.qZA(),s.TgZ(58,"th"),s._uU(59,"N\xfamero"),s.qZA(),s.TgZ(60,"th"),s._uU(61,"Bairro"),s.qZA(),s.TgZ(62,"th"),s._uU(63,"Cidade"),s.qZA(),s.TgZ(64,"th"),s._uU(65,"UF"),s.qZA(),s.TgZ(66,"th"),s._uU(67,"Acao"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(68,"tbody"),s.YNc(69,x,3,2,"tr",25),s.qZA(),s.qZA(),s.qZA(),s.TgZ(70,"div",26),s.TgZ(71,"label",27),s._uU(72," \xc9 funcion\xe1rio? "),s.qZA(),s.TgZ(73,"input",28),s.NdJ("ngModelChange",function(o){return t.eFuncionario=o}),s.qZA(),s.qZA(),s.YNc(74,b,9,0,"ng-container",29),s.TgZ(75,"div",26),s.TgZ(76,"label",30),s._uU(77," \xc9 visitante? "),s.qZA(),s.TgZ(78,"input",31),s.NdJ("ngModelChange",function(o){return t.eVisitante=o}),s.qZA(),s.qZA(),s.YNc(79,N,8,1,"ng-container",32),s.TgZ(80,"button",33),s._uU(81,"Salvar"),s.qZA(),s.TgZ(82,"button",0),s._uU(83,"Cancelar"),s.qZA(),s.qZA(),s.qZA()),2&o&&(s.xp6(2),s.Q6J("routerLink",s.DdM(11,y)),s.xp6(2),s.Q6J("routerLink",s.DdM(12,k)),s.xp6(3),s.Q6J("formGroup",t.formulario),s.xp6(62),s.Q6J("ngForOf",t.formulario.controls.pessoaEnderecoList.controls),s.xp6(4),s.Q6J("ngModel",t.eFuncionario)("ngModelOptions",s.DdM(13,F)),s.xp6(1),s.Q6J("ngIf",t.eFuncionario),s.xp6(4),s.Q6J("ngModel",t.eVisitante)("ngModelOptions",s.DdM(14,F)),s.xp6(1),s.Q6J("ngIf",t.eVisitante),s.xp6(3),s.Q6J("routerLink",s.DdM(15,J)))},directives:[i.rH,n._Y,n.JL,n.sg,n._,n.Fj,n.JJ,n.u,n.CE,r.sg,n.Wl,n.On,r.O5,n.x0],styles:[""]}),o})();var M=e(2035);let L=(()=>{class o{constructor(o){this._servico=o}resolve(o,t){let e=o.params.id;return"novo"===e.toLowerCase()?this._servico.prepararForm(new M.Z):this._servico.restore(e)}}return o.\u0275fac=function(t){return new(t||o)(s.LFG(_.v))},o.\u0275prov=s.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const E=[{path:"",component:w,resolve:[L,a.i,c.i,d,m.i]}];let P=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=s.oAB({type:o}),o.\u0275inj=s.cJS({imports:[[i.Bz.forChild(E)],i.Bz]}),o})();const I=[];let Q=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=s.oAB({type:o}),o.\u0275inj=s.cJS({imports:[[i.Bz.forChild(I)],i.Bz]}),o})(),O=(()=>{class o{constructor(){}resolve(o,t){return null}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=s.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),Y=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=s.oAB({type:o}),o.\u0275inj=s.cJS({providers:[O],imports:[[r.ez,n.u5,n.UX,Q]]}),o})();var B=e(302);let G=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=s.oAB({type:o}),o.\u0275inj=s.cJS({providers:[L],imports:[[r.ez,n.u5,n.UX,P,Y,B.d]]}),o})()}}]);