"use strict";(self.webpackChunkrecepcao_web=self.webpackChunkrecepcao_web||[]).push([[69],{2069:function(t,o,i){i.r(o),i.d(o,{FiltroModule:function(){return F}});var r=i(8583),a=i(3472),e=i(8682),n=i(930),l=i(7716),s=i(2855),c=i(9227),u=i(1739),p=i(3679),d=i(2883);function m(t,o){if(1&t&&(l.TgZ(0,"option",19),l._uU(1),l.qZA()),2&t){const t=o.$implicit;l.Q6J("ngValue",t),l.xp6(1),l.hij(" ",t.nome," ")}}function f(t,o){if(1&t&&(l.TgZ(0,"option",19),l._uU(1),l.qZA()),2&t){const t=o.$implicit;l.Q6J("ngValue",t),l.xp6(1),l.hij(" ",t.nome," ")}}function Z(t,o){if(1&t&&(l.TgZ(0,"option",19),l._uU(1),l.qZA()),2&t){const t=o.$implicit;l.Q6J("ngValue",t),l.xp6(1),l.hij(" ",t.pessoa.nome," ")}}function h(t,o){if(1&t&&(l.TgZ(0,"option",19),l._uU(1),l.qZA()),2&t){const t=o.$implicit;l.Q6J("ngValue",t),l.xp6(1),l.hij(" ",t.login," ")}}const g=function(){return["S"]},L=function(){return["N"]},_=function(){return["../"]};let A=(()=>{class t{constructor(t,o,i,r,a){this._form=t,this._activatedRoute=o,this._router=i,this._rest=r,this._mensagem=a}ngOnInit(){this.filtro=this._form.criarFiltro(this._activatedRoute.snapshot.data[0]),this.localList=this._activatedRoute.snapshot.data[1],this.usuarioList=this._activatedRoute.snapshot.data[2],this.funcionarioList=this._activatedRoute.snapshot.data[3]}idListComparar(t,o){return(0,e.aH)(t,o)}filtraLocal(t,o){return t.portaria===o[0]}filtrar(){let t=this.filtro.value;this._rest.filtro=this._rest.filtro||new n.k,this._rest.filtro.pagina=1,this._rest.filtro.autorizadorList=t.autorizadorList?t.autorizadorList.map(t=>t.id):null,this._rest.filtro.cpf=t.cpf,this._rest.filtro.destinoLocalList=t.destinoLocalList?t.destinoLocalList.map(t=>t.id):null,this._rest.filtro.entradaFim=t.entradaFim,this._rest.filtro.entradaInicio=t.entradaInicio,this._rest.filtro.entradaLocalList=t.entradaLocalList?t.entradaLocalList.map(t=>t.id):null,this._rest.filtro.incluidoPorList=t.incluidoPorList?t.incluidoPorList.map(t=>t.id):null,this._rest.filtro.nome=t.nome,this._router.navigate(["../visita"],{queryParams:this._rest.filtro,queryParamsHandling:"merge"})}}return t.\u0275fac=function(o){return new(o||t)(l.Y36(s.o),l.Y36(a.gz),l.Y36(a.F0),l.Y36(c.v),l.Y36(u.w))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-filtro"]],decls:45,vars:22,consts:[[1,"container"],[3,"formGroup"],[1,"form-group"],["for","entradaLocal"],["id","entradaLocalList","formControlName","entradaLocalList","multiple","true",1,"form-control",3,"compareWith"],[3,"ngValue",4,"ngFor","ngForOf"],["for","entrada"],["type","datetime-local","id","entradaInicio","placeholder","dd/mm/aaaa hh:mm","formControlName","entradaInicio",1,"form-control"],["type","datetime-local","id","entradaFim","placeholder","dd/mm/aaaa hh:mm","formControlName","entradaFim",1,"form-control"],["for","destinoLocal"],["id","destinoLocalList","formControlName","destinoLocalList","multiple","true",1,"form-control",3,"compareWith"],["for","exampleFormControlInput1"],["type","text","id","cpf","placeholder","Ex.: 000.000.000-00; 111.111.111-111; 222.222.222-22","formControlName","cpf",1,"form-control"],["type","text","id","nome","placeholder","Ex.: Jos\xe9 da Silva; Maria Pereira; Cristina Paiva","formControlName","nome",1,"form-control"],["for","autorizador"],["id","autorizadorList","formControlName","autorizadorList","multiple","true",1,"form-control",3,"compareWith"],["id","incluidoPorList","formControlName","incluidoPorList","multiple","true",1,"form-control",3,"compareWith"],[1,"btn","btn-primary",3,"disabled","click"],["queryParamsHandling","merge",1,"btn","btn-primary",3,"routerLink"],[3,"ngValue"]],template:function(t,o){1&t&&(l.TgZ(0,"p"),l._uU(1,"Filtrar Visita"),l.qZA(),l.TgZ(2,"div",0),l.TgZ(3,"form",1),l.TgZ(4,"div",2),l.TgZ(5,"label",3),l._uU(6,"Entrada"),l.qZA(),l.TgZ(7,"select",4),l.YNc(8,m,2,2,"option",5),l.ALo(9,"callback"),l.qZA(),l.qZA(),l.TgZ(10,"div",2),l.TgZ(11,"label",6),l._uU(12,"Hora Entrada entre"),l.qZA(),l._UZ(13,"input",7),l.TgZ(14,"label"),l._uU(15,"At\xe9"),l.qZA(),l._UZ(16,"input",8),l.qZA(),l.TgZ(17,"div",2),l.TgZ(18,"label",9),l._uU(19,"Destino"),l.qZA(),l.TgZ(20,"select",10),l.YNc(21,f,2,2,"option",5),l.ALo(22,"callback"),l.qZA(),l.qZA(),l.TgZ(23,"div",2),l.TgZ(24,"label",11),l._uU(25,'Cpf Visitante (informe m\xfaltiplos separados por ponto e v\xedrgula ";")'),l.qZA(),l._UZ(26,"input",12),l.qZA(),l.TgZ(27,"div",2),l.TgZ(28,"label",11),l._uU(29,'Nome Visitante (informe m\xfaltiplos separados por ponto e v\xedrgula ";")'),l.qZA(),l._UZ(30,"input",13),l.qZA(),l.TgZ(31,"div",2),l.TgZ(32,"label",14),l._uU(33,"Autorizador"),l.qZA(),l.TgZ(34,"select",15),l.YNc(35,Z,2,2,"option",5),l.qZA(),l.qZA(),l.TgZ(36,"div",2),l.TgZ(37,"label",11),l._uU(38,"Incluido por"),l.qZA(),l.TgZ(39,"select",16),l.YNc(40,h,2,2,"option",5),l.qZA(),l.qZA(),l.TgZ(41,"button",17),l.NdJ("click",function(){return o.filtrar()}),l._uU(42,"OK"),l.qZA(),l.TgZ(43,"button",18),l._uU(44,"Cancelar"),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.xp6(3),l.Q6J("formGroup",o.filtro),l.xp6(4),l.Q6J("compareWith",o.idListComparar),l.xp6(1),l.Q6J("ngForOf",l.Dn7(9,11,o.localList,o.filtraLocal,l.DdM(19,g))),l.xp6(12),l.Q6J("compareWith",o.idListComparar),l.xp6(1),l.Q6J("ngForOf",l.Dn7(22,15,o.localList,o.filtraLocal,l.DdM(20,L))),l.xp6(13),l.Q6J("compareWith",o.idListComparar),l.xp6(1),l.Q6J("ngForOf",o.funcionarioList),l.xp6(4),l.Q6J("compareWith",o.idListComparar),l.xp6(1),l.Q6J("ngForOf",o.usuarioList),l.xp6(1),l.Q6J("disabled",o.filtro.invalid),l.xp6(2),l.Q6J("routerLink",l.DdM(21,_)))},directives:[p._Y,p.JL,p.sg,p.K7,p.JJ,p.u,r.sg,p.Fj,a.rH,p.YN,p.Kr],pipes:[d.A],styles:[""]}),t})();var v=i(1964);let q=(()=>{class t{resolve(t,o){let i=new n.k,r=new Date;return i.entradaFim=r.toISOString().substr(0,16),r.setTime(r.setMonth(r.getMonth()-1)),i.entradaInicio=r.toISOString().substr(0,16),(0,v.of)(i)}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var T=i(4957),b=i(8018),J=i(2865);const x=[{path:"",component:A,resolve:[q,T.i,b.i,J.i]}];let C=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[a.Bz.forChild(x)],a.Bz]}),t})();var U=i(302);let F=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[q],imports:[[r.ez,p.u5,p.UX,C,U.d]]}),t})()}}]);