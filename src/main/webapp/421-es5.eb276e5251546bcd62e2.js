!function(){"use strict";function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function r(e,r,t){return r&&n(e.prototype,r),t&&n(e,t),e}(self.webpackChunkrecepcao_web=self.webpackChunkrecepcao_web||[]).push([[421],{3421:function(n,t,o){o.r(t),o.d(t,{TrocarSenhaModule:function(){return E}});var i,a=o(8583),c=o(3679),s=o(6627),u=o(1095),f=o(2613),l=o(7441),h=o(7539),p=o(8295),d=o(9983),m=o(7716),v=o(3472),g=o(1739),Z=((i=function(){function n(r,t){e(this,n),this._router=r,this._mensagem=t}return r(n,[{key:"resolve",value:function(e,n){var r=n.url.split("/"),t=r[r.length-2],o=r[r.length-1];return(!t||!o)&&(this._mensagem.erro("E-mail ou token n\xe3o informados"),this._router.navigate(["recuperar-senha"])),{email:t,token:o}}}]),n}()).\u0275fac=function(e){return new(e||i)(m.LFG(v.F0),m.LFG(g.w))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i),_=function n(){e(this,n)},b=o(2340),q=o(1841),T=function(){var n=function(){function n(r){e(this,n),this._http=r}return r(n,[{key:"trocarSenha",value:function(e){return this._http.post(b.N.AUTHORIZATION_SERVER+"/usuario/trocar-senha",e)}}]),n}();return n.\u0275fac=function(e){return new(e||n)(m.LFG(q.eN))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),A=function(){var n=function(){function n(r){e(this,n),this._formBuilder=r}return r(n,[{key:"criarFormulario",value:function(e){e||(e=new _);var n=this._formBuilder.group({email:[e.email,[c.kI.required,c.kI.email]],token:[e.token,[c.kI.required]],senha:[e.senha,[c.kI.required]],senhaRepetir:[e.senhaRepetir,[]]});return n.valueChanges.subscribe(function(e){n.controls.senhaRepetir.setErrors(e.senha!==e.senhaRepetir?{senhaNaoCoincidente:!0}:null)}),n}}]),n}();return n.\u0275fac=function(e){return new(e||n)(m.LFG(c.qu))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),k=o(1796),y=o(1253);function w(e,n){1&e&&(m.TgZ(0,"div"),m._uU(1," Campo obrigat\xf3rio! "),m.qZA())}function S(e,n){if(1&e&&(m.TgZ(0,"div",18),m.YNc(1,w,2,0,"div",19),m.qZA()),2&e){var r=m.oxw();m.xp6(1),m.Q6J("ngIf",r.frm.controls.senha.errors.required)}}function x(e,n){1&e&&(m.TgZ(0,"div"),m._uU(1," Repeti\xe7\xe3o de senha n\xe3o coincidente! "),m.qZA())}function I(e,n){if(1&e&&(m.TgZ(0,"div",18),m.YNc(1,x,2,0,"div",19),m.qZA()),2&e){var r=m.oxw();m.xp6(1),m.Q6J("ngIf",r.frm.controls.senhaRepetir.errors.senhaNaoCoincidente)}}var U=[{path:"",component:function(){var n=function(){function n(r,t,o,i,a){e(this,n),this._service=r,this._formService=t,this._route=o,this._router=i,this._mensagem=a,this.isEnviado=!1,this.escondeSenha=!0}return r(n,[{key:"ngOnInit",value:function(){var e=this;this._route.data.subscribe(function(n){var r=new _;r.email=n[0].email,r.token=n[0].token,e.frm=e._formService.criarFormulario(r)})}},{key:"ngAfterViewInit",value:function(){}},{key:"enviar",value:function(e){var n=this;if(e.preventDefault(),this.isEnviado=!0,this.frm.invalid){var r="Dados inv\xe1lidos!";throw console.error(this.frm),this._mensagem.erro(r),new Error(r)}this._service.trocarSenha(this.frm.value).subscribe(function(e){n._mensagem.sucesso("Senha alterada com sucesso!"),n._router.navigate(["/","login"])},function(e){var r="Erro ao alterar a senha";console.error(r,e),n._mensagem.erro(r)})}}]),n}();return n.\u0275fac=function(e){return new(e||n)(m.Y36(T),m.Y36(A),m.Y36(v.gz),m.Y36(v.F0),m.Y36(g.w))},n.\u0275cmp=m.Xpm({type:n,selectors:[["app-trocar-senha"]],decls:43,vars:9,consts:[[1,"container"],[1,"row"],[1,"col-sm-9","col-md-7","col-lg-5","mx-auto"],[1,"card","card-signin","my-5"],[1,"card-body"],["src","assets/img/logo.png",2,"width","60px","height","60px"],[1,"card-title","text-center"],[1,"form-signin",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"form-control"],["appearance","outline",2,"width","100%"],["matInput","","placeholder","Digite nova senha","formControlName","senha","appFrzPoeFoco","",3,"type"],["matSuffix","",3,"click"],["class","text-danger",4,"ngIf"],["matInput","","placeholder","Repita a nova senha","formControlName","senhaRepetir",3,"type"],[1,"my-4"],["type","submit",1,"btn","btn-primary","btn-block"],["type","button","appFrzVoltarBotao","",1,"btn","btn-secondary","btn-block"],[1,"text-danger"],[4,"ngIf"]],template:function(e,n){1&e&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"div",2),m.TgZ(3,"div",3),m.TgZ(4,"div",4),m.TgZ(5,"span"),m._UZ(6,"img",5),m.qZA(),m.TgZ(7,"h5",6),m._uU(8,"Trocar Senha"),m.qZA(),m.TgZ(9,"form",7),m.NdJ("ngSubmit",function(e){return n.enviar(e)}),m.TgZ(10,"div",8),m.TgZ(11,"mat-label"),m._uU(12,"E-mail"),m.qZA(),m.TgZ(13,"div",9),m.TgZ(14,"b"),m._uU(15),m.qZA(),m.qZA(),m.qZA(),m.TgZ(16,"div",8),m.TgZ(17,"mat-label"),m._uU(18,"Token"),m.qZA(),m.TgZ(19,"div",9),m.TgZ(20,"b"),m._uU(21),m.qZA(),m.qZA(),m.qZA(),m.TgZ(22,"div",8),m.TgZ(23,"mat-form-field",10),m.TgZ(24,"mat-label"),m._uU(25,"Nova Senha"),m.qZA(),m._UZ(26,"input",11),m.TgZ(27,"mat-icon",12),m.NdJ("click",function(){return n.escondeSenha=!n.escondeSenha}),m._uU(28),m.qZA(),m.qZA(),m.YNc(29,S,2,1,"div",13),m.qZA(),m.TgZ(30,"div",8),m.TgZ(31,"mat-form-field",10),m.TgZ(32,"mat-label"),m._uU(33,"Nova Senha (repetir)"),m.qZA(),m._UZ(34,"input",14),m.TgZ(35,"mat-icon",12),m.NdJ("click",function(){return n.escondeSenha=!n.escondeSenha}),m._uU(36),m.qZA(),m.qZA(),m.YNc(37,I,2,1,"div",13),m.qZA(),m._UZ(38,"hr",15),m.TgZ(39,"button",16),m._uU(40,"Enviar"),m.qZA(),m.TgZ(41,"button",17),m._uU(42,"Voltar"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&e&&(m.xp6(9),m.Q6J("formGroup",n.frm),m.xp6(6),m.Oqu(n.frm.value.email),m.xp6(6),m.Oqu(n.frm.value.token),m.xp6(5),m.Q6J("type",n.escondeSenha?"password":"text"),m.xp6(2),m.hij(" ",n.escondeSenha?"visibility_off":"visibility",""),m.xp6(1),m.Q6J("ngIf",n.isEnviado&&n.frm.controls.senha.invalid),m.xp6(5),m.Q6J("type",n.escondeSenha?"password":"text"),m.xp6(2),m.hij(" ",n.escondeSenha?"visibility_off":"visibility",""),m.xp6(1),m.Q6J("ngIf",n.isEnviado&&n.frm.controls.senhaRepetir.invalid))},directives:[c._Y,c.JL,c.sg,p.hX,p.KE,d.Nt,c.Fj,c.JJ,c.u,k.o,s.Hw,p.R9,a.O5,y.C],styles:[""]}),n}(),resolve:[Z]}],N=function(){var n=function n(){e(this,n)};return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[[v.Bz.forChild(U)],v.Bz]}),n}(),J=o(5712),E=function(){var n=function n(){e(this,n)};return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:[T,A,Z],imports:[[a.ez,N,c.UX,s.Ps,d.c,p.lN,h.p9,l.LD,f.Fk,u.ot,J.Y]]}),n}()}}])}();